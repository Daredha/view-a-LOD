<button
  (click)="nodes.stopShowingDetails()"
  *ngIf="nodes.isShowingDetails"
  class="mb-4 text-lg font-bold"
>
  <ng-icon [svg]="featherArrowLeft" class="relative top-[0.15rem] mr-2" />

  <span>Terug naar zoekresultaten</span>
</button>

<div
  class="w-full bg-base-100 border mb-4"
  *ngIf="node"
  [ngClass]="[
    shouldShowLargeImages() ? 'p-0 flex' : 'p-6',
    !nodes.showingDetails(node) ? 'max-w-[50rem]' : ''
  ]"
>
  <app-node-images
    [imageUrls]="images"
    [width]="Settings.largeImagePercentageWidthOfContainer + '%'"
    *ngIf="shouldShowLargeImages()"
  />

  <div
    [ngClass]="shouldShowLargeImages() ? 'p-6' : 'p-0'"
    class="flex-grow relative"
  >
    <div class="text-lg" *ngIf="showTitle">
      <app-node-link
        [url]="id"
        [label]="title"
        (clicked)="onTitleClicked($event)"
      />
    </div>

    <div class="w-full px-4">
      <app-node-table-row
        [label]="'Onderdeel van'"
        *ngIf="showParents && parents.length > 0"
      >
        <app-node-hierarchy [nodes]="parents" />
      </app-node-table-row>

      <!-- TODO: Check if there any clustered types to show here (especially if only showing clustered types) -->
      <app-node-table-row
        [label]="'Soort'"
        *ngIf="showTypes && types.length > 0"
      >
        <app-node-types [types]="types" />
      </app-node-table-row>
      <app-node-table-row
        [label]="'Organisatie'"
        *ngIf="nodes.showingDetails(node)"
      >
        <app-node-endpoint [endpointId]="nodes.getEndpointId(node)" />
      </app-node-table-row>
    </div>

    <app-node-renderer [node]="node" />

    <button
      class="absolute leading-none"
      [ngClass]="[
        shouldShowLargeImages() ? 'right-6 bottom-6' : 'right-0 bottom-0'
      ]"
      (click)="nodes.toggleShowingDetails(node)"
      *ngIf="!nodes.showingDetails(node)"
    >
      <ng-icon [svg]="featherArrowRight" class="text-xl" />
    </button>
  </div>
</div>
